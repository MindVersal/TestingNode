<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8"/>
    <title>Моя домашняя страничка</title>
</head>
<body>
<h1> Моя домашняя страничка </h1>
<p>Привет, я Марийн и это моя домашняя страничка.</p>
<p>А ещё я книжку написал! Читайте её
    <a href="http://eloquentjavascript.net">здесь</a>.</p>
<p>Testing:</p>
<script>function talksAbout(node, string) {
    if (node.nodeType === document.ELEMENT_NODE) {
        for (let i = 0; i < node.childNodes.length; i++) {
            if (talksAbout(node.childNodes[i], string))
                return true;
        }
        return false;
    } else if (node.nodeType === document.TEXT_NODE) {
        return node.nodeValue.indexOf(string) > -1;
    }
}
console.log(talksAbout(document.body, "кни"));
let link = document.body.getElementsByTagName("a")[0];
console.log(link.href);
</script>
<p>Test Replace Images:</p>
<p>Это <img src="img/cat.png" alt="Кошка"> в
    <img src="img/hat.png" alt="сапожках">.</p>
<p><button onclick="replaceImages()">Заменить</button></p>
<script>
    function replaceImages() {
        let images = document.body.getElementsByTagName("img");
        for (let i = images.length - 1; i >= 0; i--){
            let image = images[i];
            if (image.alt){
                let text = document.createTextNode("<--| " + image.alt + " |-->");
                image.parentNode.replaceChild(text, image);
            }
        }
    }
</script>
<blockquote id="quote">
    Никакая книга не может быть закончена.
    Во время работы над ней мы узнаём достаточно для того,
    чтобы найти её незрелой сразу же после того, как мы отвлеклись от неё.
</blockquote>
<script>
    function elt(type) {
        let node = document.createElement(type);
        for (let i = 1; i < arguments.length; i++){
            let child = arguments[i];
            if (typeof child === "string"){
                child = document.createTextNode(child);
            }
            node.appendChild(child);
        }
        return node;
    }
    document.getElementById("quote").appendChild(
        elt("footer", "-",
            elt("strong", "Karl Popper"),
            ", предисловие ко второму изданию ",
            elt("em", "Открытое общество и его враги "),
            ", 1950")
    );
</script>
<p data-classified="secret">Code for starting is 000000.</p>
<p data-classified="unclassified">The Cat have four foot.</p>
<script>
    let paras = document.body.getElementsByTagName("p");
    Array.prototype.forEach.call(paras, function (para) {
        if (para.getAttribute("data-classified") === "secret" ){
            para.parentNode.removeChild(para);
        }
    });
</script>

<!--<source lang="html">-->
<p>А вот и она, функция идентификации:</p>
<pre data-language="javascript">
    function id(x) { return x; }
</pre>
<button onclick="highlightAllCode()">Light Syntax.</button>
<script>
    function highlightCode(node, keywords) {
        let text = node.textContent;
        node.textContent = ""; // Очистим узел

        let match, pos = 0;
        while (match = keywords.exec(text)) {
            let before = text.slice(pos, match.index);
            node.appendChild(document.createTextNode(before));
            let strong = document.createElement("strong");
            strong.appendChild(document.createTextNode(match[0]));
            node.appendChild(strong);
            pos = keywords.lastIndex;
        }
        let after = text.slice(pos);
        node.appendChild(document.createTextNode(after));
    }
    let languages = {
        javascript: /\b(function|return|var)\b/g /* … etc */
    };

    function highlightAllCode() {
        let pres = document.body.getElementsByTagName("pre");
        for (let i = 0; i < pres.length; i++) {
            let pre = pres[i];
            let lang = pre.getAttribute("data-language");
            if (languages.hasOwnProperty(lang))
                highlightCode(pre, languages[lang]);
        }
    }
</script>
</body>
</html>