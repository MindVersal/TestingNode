<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chapter 19.</title>
</head>
<body>
Заметки: <select id="list"></select>
<button onclick="addNote()">New note</button>
<textarea id="currentNote" style="width: 100%; height: 10em">
</textarea>
<script>
    let list = document.querySelector("#list");
    function addToList(name) {
        let option = document.createElement("option");
        option.textContent = name;
        list.appendChild(option);
    }
    let notes = JSON.parse(localStorage.getItem("notes")) || {"what buy": ""};
    for (let name in notes){
        if (notes.hasOwnProperty(name)){
            addToList(name);
        }
    }
    function saveToStorage() {
        localStorage.setItem("notes", JSON.stringify(notes));
    }
    let current = document.querySelector("#currentNote");
    current.value = notes[list.value];
    list.addEventListener("change", function () {
        current.value = notes[list.value];
    });
    current.addEventListener("change", function () {
        notes[list.value] = current.value;
        saveToStorage();
    });
    function addNote() {
        let name = prompt("Name note", "");
        if (!name){
            return;
        }
        if (!notes.hasOwnProperty(name)){
            notes[name] = "";
            addToList(name);
            saveToStorage();
        }
        list.value = name;
        current.value = notes[name];
    }

</script>

<textarea id="code">return "hi";</textarea>
<button onclick="runCode()" id="button">Run</button>
<pre id="output"></pre>
<script>
    let input = document.querySelector("#code");
    let output = document.querySelector("#output");
    function runCode() {
        let runFunct = new Function("", codeNotes["test"]);
        output.textContent = runFunct();
    }
    let codeNotes = {"test": "return \"hi\";"};
    input.addEventListener("change", function () {
        codeNotes["test"] = input.value;
    });
</script>

<input type="text" id="field">
<div id="suggestions" style="cursor: pointer"></div>
<script>
    let terms = [];
    for (let name in window){
        terms.push(name);
    }
    let inputTerms = document.querySelector("#field");
    let outputTerms = document.querySelector("#suggestions");
    let inputText = "";
    inputTerms.addEventListener("input", function () {
        outputTerms.textContent = "";
        inputText = inputTerms.value;
        let tempTerms = [];
        terms.forEach(function (element) {
            if (inputText !== "" && element.indexOf(inputText) === 0){
                tempTerms.push(element);
            }
        });
        tempTerms.forEach(function (element) {
            outputTerms.textContent += " |>" + element + "<| ";
        });
    });

</script>

<div id="grid"></div>
<button id="next">Next generation.</button>
<script>
    let widthPole = 10;
    let heightPole = 10;
    let currentPole = [];
    function fillCurrentPole(pole) {
        for (let j = 0; j < heightPole; j++){
            let rowPole = [];
            for (let i = 0; i < widthPole; i++){
                rowPole.push((Math.random() < 0.5) ? 0 : 1);
            }
            pole.push(rowPole);
        }
    }
    fillCurrentPole(currentPole);
    function printPole(pole) {
        for (let j = 0; j < heightPole; j++){
            console.log(pole[j].join(" "));
        }
    }
    printPole(currentPole);
    function countNeig(rowPole, colPole) {

    }
    function nextStep(pole) {
        let newPole = [];
        for (let j = 0; j < heightPole; j++){
            let rowPole = [];
            for (let i = 0; i < widthPole; i++){


            }
            newPole.push(rowPole);
        }
        return newPole;
    }
    let testArray = [1, 2, 3];
    console.log(testArray, testArray[-1] === undefined);
</script>











</body>
</html>