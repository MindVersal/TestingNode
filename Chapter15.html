<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Chapter15</title>
</head>
<body>
<button id="button_1">Press gently.</button>
<p>Press on document for once start catcher .</p>
<script>
    let button_1 = document.getElementById("button_1");
    function once() {
        console.log("Button pressed once!");
        button_1.removeEventListener("click",once);
    }
    button_1.addEventListener("click", once);

</script>
<button id="button_2">Press what you want!</button>
<script>
    let button_2 = document.getElementById("button_2");
    button_2.addEventListener("mousedown", function (event) {
        if (event.which === 1){
            console.log("Left!");
        } else if (event.which === 2){
            console.log("Middle!");
        } else if (event.which === 3){
            console.log("Right!");
        }
    });
</script>
<p id="para_1">Paragraph with <button id="button_3">button</button>.</p>
<script>
    let para_1 = document.getElementById("para_1");
    let button_3 = document.getElementById("button_3");
    para_1.addEventListener("mousedown", function () {
        console.log("Catcher From Paragraph!");
    });
    button_3.addEventListener("mousedown", function (event) {
        console.log("Catcher from button_3");
        if (event.which === 3){
            event.stopPropagation();
        }
    });
</script>
<button id="button_a">A</button>
<button id="button_b">B</button>
<button id="button_c">C</button>
<script>
    document.body.addEventListener("click", function (event) {
        if (event.target.nodeName === "BUTTON"){
            console.log("Clicked", event.target.textContent);
        }
    });
</script>
<p id="para_2">If you press key V - page will state violet.</p>
<script>
    addEventListener("keydown", function (event) {
        if (event.keyCode === 86){
            document.body.style.background = "violet";
        }
    });
    addEventListener("keyup", function (event) {
        if (event.keyCode === 86){
            document.body.style.background = "";
        }
    })
</script>
<style>
    body {
        height: 200px;
        background: beige;
    }
    .dot {
        height: 8px;
        width: 8px;
        border-radius: 4px;
        background: blue;
        position: absolute;
    }
</style>
<script>
    addEventListener("click", function (event) {
        let dot = document.createElement("div");
        dot.className = "dot";
        dot.style.left = (event.pageX - 4) + "px";
        dot.style.top = (event.pageY - 4) + "px";
        document.body.appendChild(dot);
    });
</script>
<p>Move mouse for biggest width.</p>
<div id="div_1" style="background: orange; width: 60px; height: 20px">

</div>
<script>
    let lastX;
    let rect = document.getElementById("div_1");
    rect.addEventListener("mousedown", function (event) {
        if (event.which === 1){
            lastX = event.pageX;
            addEventListener("mousemove", moved);
            event.preventDefault();
        }
    });
    function moved(event) {
        if (event.which !== 1){
            removeEventListener("mousemove", moved);
        } else {
            let dist = event.pageX - lastX;
            let newWidth = Math.max(10, rect.offsetWidth + dist);
            rect.style.width = newWidth + "px";
            lastX = event.pageX;
        }
    }
</script>
<style>
    p:hover {color: red}
</style>
<p>Paragraph is <strong>strong</strong>.</p>
</body>
</html>